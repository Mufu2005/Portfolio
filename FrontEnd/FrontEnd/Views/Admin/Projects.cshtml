@*
	For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@{
	ViewData["Title"] = "Projects - Admin";
}

@{
	var projects = new List<ProjectModel>
	{
		new ProjectModel
		{
			Title = "Portfolio Website",
			Description = "A personal portfolio site showcasing my work.",
			ImageUrl = "https://via.placeholder.com/150",
			ProjectUrl = "https://example.com",
			CreateAt = DateTime.Now
		},
		new ProjectModel
		{
			Title = "E-Commerce App",
			Description = "A basic online store built with ASP.NET.",
			ImageUrl = "https://via.placeholder.com/150",
			ProjectUrl = "https://example.com/store",
			CreateAt = DateTime.Now.AddDays(-5)
		}
	};
}

@model FrontEnd.Models.ProjectModel;

<section class="container my-5">
	<div class="row">
		<!-- Left Side: CRUD Form -->
		<div class="col-md-4">
			<h3 class="mb-4 space-mono-regular">Manage Project</h3>
			<form asp-action="Save" method="post">
				<input type="hidden" asp-for="Id" />

				<div class="mb-3">
					<label asp-for="Title" class="form-label">Project Title</label>
					<input asp-for="Title" class="form-control" />
				</div>

				<div class="mb-3">
					<label asp-for="Description" class="form-label">Description</label>
					<textarea asp-for="Description" class="form-control"></textarea>
				</div>

				<div class="mb-3">
					<label asp-for="ImageUrl" class="form-label">Image URL</label>
					<input asp-for="ImageUrl" class="form-control" />
				</div>

				<div class="mb-3">
					<label asp-for="ProjectUrl" class="form-label">Project Link</label>
					<input asp-for="ProjectUrl" class="form-control" />
				</div>

				<div class="d-flex gap-2">
					<button type="submit" class="btn btn-success">Save</button>
					<button type="submit" formaction="/Admin/Delete" class="btn btn-danger">Delete</button>
				</div>
			</form>
		</div>

		<!-- Right Side: Project List -->
		<div class="col-md-8">
			<h3 class="mb-4 space-mono-regular">All Projects</h3>
			<div class="row">
				@if (projects != null)
				{
					foreach (var project in projects)
					{
						<div class="col">
							<div class="card h-100">
								<img src="@project.ImageUrl" class="card-img-top" style="height: 200px; object-fit: cover;" />
								<div class="card-body">
									<h5 class="card-title">@project.Title</h5>
									<p class="card-text">@project.Description</p>
									<a href="@project.ProjectUrl" target="_blank" class="btn btn-outline-dark">View</a>
								</div>
							</div>
						</div>
					}
				}
				else
				{
					<p>No projects to display.</p>
				}
			</div>
		</div>
	</div>
</section>
